{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "type": "object",
  "title": "Fermeture droits HTP assuré",
  "description": "Fermeture droits HTP assuré",
  "additionalProperties": false,
  "properties": {
    "insurerId": {
      "type": "string",
      "description": "Identifiant du déclarant du contrat"
    },
    "issuingCompanyCode": {
      "type": "string",
      "description": "Société émettrice du contrat"
    },
    "subscriberNumber": {
      "type": "string",
      "description": "Numéro d'adhérent au contrat"
    },
    "contractNumber": {
      "type": "string",
      "description": "Numéro du contrat"
    },
    "personNumber": {
      "type": "string",
      "description": "Identifiant de la personne"
    },
    "nir": {
      "type": "string",
      "description": "NIR de la personne"
    },
    "affiliationsRO": {
      "type": "array",
      "description": "Liste des affiliations RO de la personne",
      "items": {
        "$ref": "#/components/schemas/AffiliationRO"
      }
    },
    "birthDate": {
      "type": "string",
      "description": "Date de naissance de la personne (AAAAMMJJ)"
    },
    "birthRank": {
      "type": "string",
      "description": "Rang de naissance de la personne"
    },
    "previousEndDate": {
      "type": "string",
      "description": "Ancienne date de fermeture"
    },
    "newEndDate": {
      "type": "string",
      "description": "Nouvelle date de fermeture"
    }
  },
  "required": [
    "insurerId",
    "issuingCompanyCode",
    "subscriberNumber",
    "contractNumber",
    "personNumber",
    "birthDate",
    "birthRank",
    "newEndDate"
  ],
  "components": {
    "schemas": {
      "AffiliationRO": {
        "type": "object",
        "properties": {
          "attachementRO": {
            "$ref": "#/components/schemas/AttachementRO"
          },
          "nir": {
            "$ref": "#/components/schemas/Nir"
          },
          "period": {
            "$ref": "#/components/schemas/Period"
          }
        }
      },
      "AttachementRO": {
        "type": ["object", "null"],
        "properties": {
          "centerCode": {
            "type": ["string", "null"]
          },
          "healthInsuranceCompanyCode": {
            "type": ["string", "null"]
          },
          "regimeCode": {
            "type": ["string", "null"]
          }
        }
      },
      "Nir": {
        "type": ["object", "null"],
        "properties": {
          "key": {
            "type": "string"
          },
          "code": {
            "type": "string"
          }
        }
      },
      "Period": {
        "type": ["object", "null"],
        "properties": {
          "end": {
            "type": ["string", "null"]
          },
          "start": {
            "type": "string"
          }
        }
      }
    }
  },
  "$id": "Insurance.serviceeligibility.insured.termination.event/0.0.1"
}